# 社交网络图谱分析及智能推荐系统

## 项目概述
本项目为数据结构课程设计作品，基于图、哈希表、最小堆等**完全自主实现**的数据结构，开发了社交网络图谱分析及智能推荐系统。
支持一度/二度人脉查询、社交距离计算、基于兴趣标签的 Top-K 智能推荐等核心功能，旨在掌握数据结构底层原理与系统开发流程。

- **开发语言**：Python 3.8+
- **图形系统**：Tkinter 原生库（零依赖）

## 环境配置

### 运行环境
- Python 3.7 或更高版本

### 依赖库/组件
系统核心数据结构（如图、哈希表、最小堆等算子）皆基于第一性原理纯原生构建。
为支持前端复杂的**网络图谱可视化**特征，界面端额外引入了如下视觉渲染依赖：
- `networkx` 与 `matplotlib`

你可以通过一键指令完成环境组装：
```bash
git clone <repository_url>
cd 2024级数据结构课设_社交网络系统
pip install -r requirements.txt
```

## 文件结构

```text
2024级数据结构课设_社交网络系统/
├─ data/                  # 测试数据文件
│  ├─ user_sample.csv     # 用户信息数据（带兴趣标签）
│  └─ friend_sample.txt   # 好友关系数据
├─ src/                   # 源代码目录
│  ├─ data_structure/     # 自主实现的数据结构
│  │  ├─ adjacency_list.py  # 邻接表
│  │  ├─ hash_table.py      # 哈希表
│  │  └─ heap.py            # 最小堆（扩展功能用： Top-K 推荐）
│  ├─ algorithm/          # 核心算法
│  │  └─ algorithms.py      # BFS算法及智能推荐模块
│  ├─ utils/              # 工具类
│  │  └─ data_reader.py     # 数据读取（CSV/TXT解析）
│  └─ main.py             # 程序入口及 Tkinter GUI 界面
└─ README.md              # 本说明文档
```

## 运行步骤

1. 确保系统包含 Python 3 基础环境（支持系统级 `Tkinter` 窗口模块）。
2. 打开任意终端或 PowerShell，定位到项目根目录。
3. 挂载安装项目的前端依赖项：
```bash
pip install -r requirements.txt
```
4. 运行应用主引擎：
```bash
python src/main.py
```
5. 图形界面弹出后，系统将自动注入测试数据集，随后即可完成所有的图谱探测、二度推导及画卷预览。

## 数据格式说明

系统支持从CSV/TXT文件自动加载数据。

- **用户信息（user_sample.csv）**
```text
用户ID,姓名,兴趣标签
1,张三,编程;篮球;摄影
...
```
- **好友关系（friend_sample.txt）**
```text
1,2
3,4
...
```

## 功能说明

### 核心功能
1. **图结构建模**：基于字典与列表自主实现无向图邻接表，支持节点/边的查询判断。
2. **数据持久化**：使用文件流加载 CSV/TXT 格式的用户信息及好友关系数据。
3. **哈希表用户信息管理**：自研采用**链地址法**解决冲突的哈希表，并对用户数据提供 O(1) 级别查找。
4. **一度人脉查询**：利用邻接表秒级返回用户的直接好友网络。
5. **二度人脉发现**：基于 BFS 搜索逻辑，精准排除自回环及一度网络，输出干净的二度人脉圈。
6. **社交距离计算**：通过 BFS 层序探测算法计算社交网络的节点最小跨越距离及最短路径链。
7. **GUI 集成界面**：具备鲁棒的输入校验、防崩溃设计、多状态展示弹窗的完整主窗口工程。

### 智能组件
1. **Top-K 个性化好友推荐**
   - 依赖项：自研包含 `sift_up` 与 `sift_down` 调整策略的**定长最小堆 (MinHeap)** 数据结构。
   - 实现逻辑：融合计算两名用户间的 **兴趣交并比 (Jaccard Similarity)** 以及 **共同好友覆盖率** 两项图谱特征参数，赋予最终推荐得分。
   - 使用最小堆不断筛选过滤低维连接，精确维护指定阈值（例如 Top-3）内匹配度最高的潜在结交好友推荐。
## 开发过程

本项目严格遵循从底层逻辑到上层 UI 的增量式敏捷开发，核心里程碑记录如下：
- [x] **2026-02-10** `feat/init`: 完成图基础结构和BFS算法编写
- [x] **2026-02-12** `feat`: 完成基础功能包括直接查找、二度查找、计算距离
- [x] **2026-02-14** `feat`: 添加智能推荐功能
- [x] **2026-02-16** `feat`: 添加网络图谱显示
- [x] **2026-02-17** `fix`: 修复每次打开网络图谱形状不一样的问题
- [x] **2026-02-18** `feat`: 添加上面一排菜单栏和放大缩小功能
- [x] **2026-02-19** `ui`: 把显示社交距离从旧的弹窗改到了旁边下拉框
- [x] **2026-02-20** `feat`: 添加添加用户功能
- [x] **2026-02-21** `feat`: 添加删除用户和修改信息功能并实现数据保存
- [x] **2026-02-21** `ui`: 实现下拉框搜索、支持缩小自动换行的按钮排布和卡片式兴趣标签

## 接下来准备开发

为进一步完善系统功能，后续计划如下：
- [ ] 增加更多算法分析功能，比如社区聚类
- [ ] 使用数据库存储数据，代替现在的 txt 和 csv 文件

## 注意事项
1. **防止文件读取失效**：程序采用了 `__file__` 相对到绝对路径的动态追溯装载，故无论您在哪一层级按何种指令启动进程，系统都能成功寻找挂载点，不用担心相对执行路径导致白屏瘫痪。
2. **性能反馈**：本方案在实现底层图与哈希缓存时均控制了时间复杂度，未产生大嵌套死循环问题。
3. **技术边界说明**：针对业务需求，最短路径、BFS算法引擎及推荐栈皆遵循原生算法手写； `NetworkX` 组合包仅在 `Tab: 网络图谱` 的视觉模块使用纯坐标系绘制布局功能，未越权参与底层图谱计算。
